
{
  "id": "test-scenario",
  "initial": "start",
  "states": {
    "start": {
      "meta": {
        "systemMessage": "Call initiated with customer.",
        "agentText": "Welcome! How can I assist you today?",
        "responseOptions": [
          "Start the conversation",
          "Verify customer identity first"
        ]
      },
      "on": {
        "START_CALL": "customer_issue",
        "Start the conversation": "customer_issue",
        "Verify customer identity first": "verify_identity",
        "DEFAULT": "customer_issue"
      }
    },
    "verify_identity": {
      "meta": {
        "agentText": "Before we proceed, I'll need to verify your identity. Could you please provide your account number or email address?",
        "customerText": "Sure, my account number is ACC123456 and my email is customer@example.com",
        "sensitiveFields": [
          {
            "id": "account-number",
            "type": "account_id",
            "value": "ACC123456",
            "pattern": "/\\b[A-Z]{3}[0-9]{6}\\b/",
            "status": "pending",
            "requiresVerification": true,
            "systemValue": "ACC123456",
            "source": "Customer Database",
            "matched": true
          }
        ],
        "module": {
          "id": "verification-module-1",
          "title": "Customer Verification",
          "type": "verification",
          "data": {
            "fields": [
              {
                "id": "account-id",
                "label": "Account Number",
                "type": "text",
                "value": "ACC123456",
                "expectedValue": "ACC123456",
                "required": true
              }
            ]
          }
        },
        "responseOptions": [
          "Thank you for verifying your identity. How can I help you today?",
          "I see there's a note about a recent issue on your account. Is that what you're calling about?",
          "I notice you've been a customer for over 2 years. Before we proceed, let me check if there are any loyalty rewards available."
        ]
      },
      "on": {
        "Thank you for verifying your identity. How can I help you today?": "customer_issue",
        "I see there's a note about a recent issue on your account. Is that what you're calling about?": "customer_issue",
        "I notice you've been a customer for over 2 years. Before we proceed, let me check if there are any loyalty rewards available.": "loyalty_check",
        "DEFAULT": "customer_issue"
      }
    },
    "customer_issue": {
      "meta": {
        "customerText": "Hi there. I'd like to check my franchise options for my health insurance. I think I want to change it.",
        "suggestions": [
          "I'd be happy to help you review your franchise options. Let me pull up your account information.",
          "I can show you the different franchise options available for your health insurance plan.",
          "Let me check your current franchise settings and show you what options are available."
        ],
        "responseOptions": [
          "I'd be happy to help you review your franchise options. Let me pull up your account information.",
          "I can show you the different franchise options available for your health insurance plan.",
          "Let me check your current franchise settings and show you what options are available."
        ]
      },
      "on": {
        "I'd be happy to help you review your franchise options. Let me pull up your account information.": "franchise_options",
        "I can show you the different franchise options available for your health insurance plan.": "franchise_options",
        "Let me check your current franchise settings and show you what options are available.": "franchise_options",
        "DEFAULT": "franchise_options"
      }
    },
    
    "franchise_options": {
      "meta": {
        "agentText": "I'd be happy to help you review your franchise options. Let me pull up your account information.",
        "customerText": "Great, thank you. I'd like to see what options I have and how they would affect my premium.",
        "suggestions": [
          "Here's an overview of your franchise options. As you can see, the standard franchise is CHF 300, but you can choose a higher amount which would lower your monthly premium.",
          "Let me show you the different franchise options available. The higher the franchise amount, the lower your monthly premium will be.",
          "I've pulled up your franchise options. You currently have the standard franchise of CHF 300, but you can increase this to reduce your premium."
        ],
        "module": {
          "id": "info-table-module-1",
          "title": "Franchise-Ãœbersicht 2024",
          "type": "information_table",
          "data": {
            "description": "Please review this important information about your insurance coverage.",
            "franchiseOptions": [
              { "amount": 300, "premium": 400 },
              { "amount": 500, "premium": 360 },
              { "amount": 1000, "premium": 310 },
              { "amount": 1500, "premium": 270 },
              { "amount": 2000, "premium": 240 },
              { "amount": 2500, "premium": 220 }
            ],
            "tableTitle": "Franchise Optionen",
            "buttonText": "Acknowledge"
          }
        }
      },
      "on": {
        "Here's an overview of your franchise options. As you can see, the standard franchise is CHF 300, but you can choose a higher amount which would lower your monthly premium.": "franchise_selection",
        "Let me show you the different franchise options available. The higher the franchise amount, the lower your monthly premium will be.": "franchise_selection",
        "I've pulled up your franchise options. You currently have the standard franchise of CHF 300, but you can increase this to reduce your premium.": "franchise_selection",
        "DEFAULT": "franchise_selection"
      }
    },
    
    "franchise_selection": {
      "meta": {
        "agentText": "Here's an overview of your franchise options. As you can see, the standard franchise is CHF 300, but you can choose a higher amount which would lower your monthly premium.",
        "customerText": "I think I'd like to go with the CHF 1000 franchise option. That seems like a good balance between the premium and what I'd have to pay out of pocket.",
        "suggestions": [
          "That's a great choice. The CHF 1000 franchise will reduce your monthly premium to CHF 310, which is a savings of CHF 90 per month compared to the standard franchise.",
          "I'll update your plan with the CHF 1000 franchise option. This will lower your monthly premium to CHF 310, effective from the next billing cycle.",
          "The CHF 1000 franchise is a popular choice that offers a good balance. I'll process this change for you, which will reduce your premium to CHF 310 per month."
        ]
      },
      "on": {
        "That's a great choice. The CHF 1000 franchise will reduce your monthly premium to CHF 310, which is a savings of CHF 90 per month compared to the standard franchise.": "franchise_confirmation",
        "I'll update your plan with the CHF 1000 franchise option. This will lower your monthly premium to CHF 310, effective from the next billing cycle.": "franchise_confirmation",
        "The CHF 1000 franchise is a popular choice that offers a good balance. I'll process this change for you, which will reduce your premium to CHF 310 per month.": "franchise_confirmation",
        "DEFAULT": "franchise_confirmation"
      }
    },
    
    "franchise_confirmation": {
      "meta": {
        "agentText": "That's a great choice. The CHF 1000 franchise will reduce your monthly premium to CHF 310, which is a savings of CHF 90 per month compared to the standard franchise.",
        "customerText": "Excellent. When will this change take effect?",
        "suggestions": [
          "The change to your franchise will take effect from the beginning of next month. You'll see the adjusted premium on your next bill.",
          "This change will be effective from the first day of the coming month. I'll send you a confirmation email with all the details.",
          "Your new franchise amount will be applied starting next month. Would you like me to send you a written confirmation of this change?"
        ]
      },
      "on": {
        "The change to your franchise will take effect from the beginning of next month. You'll see the adjusted premium on your next bill.": "conclusion",
        "This change will be effective from the first day of the coming month. I'll send you a confirmation email with all the details.": "conclusion",
        "Your new franchise amount will be applied starting next month. Would you like me to send you a written confirmation of this change?": "conclusion",
        "DEFAULT": "conclusion"
      }
    },
    
    "loyalty_check": {
      "meta": {
        "agentText": "I notice you've been a customer for over 2 years. Before we proceed, let me check if there are any loyalty rewards available.",
        "customerText": "Oh, that would be great!",
        "suggestions": [
          "Thank you for your loyalty. I can see that you're eligible for a 5% discount on your next premium payment. Would you also like to discuss your current health insurance plan?",
          "As a valued long-term customer, you qualify for our loyalty program, which includes priority customer service and a free annual health check-up. Is there anything specific about your insurance you'd like to discuss today?",
          "I've checked our loyalty rewards, and you're eligible for a wellness package that includes discounts on fitness club memberships. Before I add this to your account, did you have any questions or concerns about your current coverage?"
        ]
      },
      "on": {
        "Thank you for your loyalty. I can see that you're eligible for a 5% discount on your next premium payment. Would you also like to discuss your current health insurance plan?": "customer_issue",
        "As a valued long-term customer, you qualify for our loyalty program, which includes priority customer service and a free annual health check-up. Is there anything specific about your insurance you'd like to discuss today?": "customer_issue",
        "I've checked our loyalty rewards, and you're eligible for a wellness package that includes discounts on fitness club memberships. Before I add this to your account, did you have any questions or concerns about your current coverage?": "customer_issue",
        "DEFAULT": "customer_issue"
      }
    },
    
    "conclusion": {
      "meta": {
        "agentText": "The change to your franchise will take effect from the beginning of next month. You'll see the adjusted premium on your next bill. Is there anything else I can assist you with today?",
        "customerText": "No, that's all I needed. Thank you for your help.",
        "suggestions": [
          "You're welcome! I'm glad I could help you with your franchise adjustment. Thank you for choosing our health insurance. Have a wonderful day!",
          "It was my pleasure assisting you today. If you have any other questions in the future, please don't hesitate to contact us. Have a great day!",
          "Thank you for calling. I've sent a confirmation email with the details of your franchise change. Is there anything else you need help with before we end the call?"
        ]
      },
      "on": {
        "You're welcome! I'm glad I could help you with your franchise adjustment. Thank you for choosing our health insurance. Have a wonderful day!": "end_call",
        "It was my pleasure assisting you today. If you have any other questions in the future, please don't hesitate to contact us. Have a great day!": "end_call",
        "Thank you for calling. I've sent a confirmation email with the details of your franchise change. Is there anything else you need help with before we end the call?": "end_call",
        "DEFAULT": "end_call"
      }
    },
    
    "end_call": {
      "meta": {
        "agentText": "You're welcome! I'm glad I could help you with your franchise adjustment. Thank you for choosing our health insurance. Have a wonderful day!"
      }
    }
  }
}
